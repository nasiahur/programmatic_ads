{% extends 'traffic/monitor/monitoring_form.html' %}
{% block toolbar_smtp %}class="active"{%endblock%}

{% block page_content %}

    {% if form.non_field_errors %}
        <div class="alert alert-danger">{% for error in form.non_field_errors %}<span>{{ error|escape }}</span>{% endfor %}</div>  
    {% endif %}

    <style type="text/css">
        input[type=number]::-webkit-outer-spin-button,
        input[type=number]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance:textfield;
        }
    </style>

    <!-- form begin -->
    <form action="" method="POST" class="form-horizontal">{% csrf_token %}
        <div class="control-group {% if form.smtp_server.errors %}error{%endif%}">
            <label class="control-label" for="id_address">SMTP Server</label>
            <div class="controls">
                {{form.smtp_server}}
                {% if form.smtp_server.errors %}
                    <span class="help-block">{{form.smtp_server.errors|striptags}}</span>
                {% else %}
                    <span class="help-block">Specify the name of the server to use for outbound SMTP connections. For example, <em>smtp.gmail.com</em> or <em>smtp.office365.com</em>.</span>
                {%endif%}
            </div>
        </div>

        <div class="control-group {% if form.smtp_port.errors %}error{%endif%}">
            <label class="control-label" for="id_smtp_port">SMTP Port</label>
            <div class="controls">
                {{form.smtp_port}}
                {% if form.smtp_port.errors %}
                    <span class="help-block">{{form.smtp_port.errors|striptags}}</span>
                {% else %}
                    <span class="help-block">Specify the TCP port of the remote SMTP server to connect to. For example, <em>465</em> or <em>587</em>.</span>
                {%endif%}
            </div>
        </div>

        <div class="control-group {% if form.smtp_username.errors %}error{%endif%}">
            <label class="control-label" for="id_address">SMTP User Name</label>
            <div class="controls">
                {{form.smtp_username}}
                {% if form.smtp_username.errors %}
                    <span class="help-block">{{form.smtp_username.errors|striptags}}</span>
                {% else %}
                    <span class="help-block">Specify user name for SMTP connector, for example <em>proxy@example.lan</em>.</span>
                {%endif%}
            </div>
        </div>

        <div class="control-group {% if form.smtp_password.errors %}error{%endif%}">
            <label class="control-label" for="id_address">SMTP Password</label>
            <div class="controls">
                {{form.smtp_password}}
                {% if form.smtp_password.errors %}
                    <span class="help-block">{{form.smtp_password.errors|striptags}}</span>
                {% else %}
                    <span class="help-block">Specify password for SMTP connector.</span>
                {%endif%}
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">&nbsp;</label>
            <div class="controls"><label class="checkbox inline">{{form.smtp_use_auth}} Use SMTP authentication (user name and password indicated above). Enabled by default.</label>
            </div>
        </div>
        
        <div class="control-group">
            <div class="controls">
                <button type="submit" class="btn btn-primary">Save Changes</button>                    
            </div>
        </div>
    </form>

{% endblock %}
